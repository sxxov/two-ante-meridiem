<div class='x-button-arrowed'>
  {% capture children %}
    <div class="button-arrowed-text">
      <span class="button-arrowed-text-before">
        {{-  before | default: 'Shop' -}}
      </span>
      {{ 'x-icon-arrow-forward.svg' | inline_asset_content }}
      <span class="button-arrowed-text-after">
        {{- after | default: 'Now' -}}
      </span>
    </div>
  {% endcapture %}
  {% render 'x-button', text: children %}
</div>

{% stylesheet %}
  .x-button-arrowed {
    pointer-events: auto;

    position: relative;

    box-shadow: 0 8px 32px var(--color-primary-button-text);
    border-radius: 9999px;

    backdrop-filter: blur(16px);

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(
        to top,
        color-mix(in oklab, var(--color-primary-button-text), transparent 80%),
        transparent
      );
    }

    &::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(
        120deg,
        transparent 0%,
        rgba(255 255 255 / 0) 30%,
        rgba(255 255 255 / 0.6) 45%,
        rgba(255 255 255 / 0) 60%,
        transparent 100%
      );
      background-size: 200% 100%;
      animation: button-arrowed-shimmer 6s infinite var(--ease-in-out);
      mix-blend-mode: plus-lighter;
      pointer-events: none;
    }

    & .button-arrowed-text {
      display: flex;
      align-items: center;
      gap: 8px;

      & svg {
        width: 1.25em;
        height: 1.25em;
      }
    }
  }

  @keyframes button-arrowed-shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
{% endstylesheet %}
